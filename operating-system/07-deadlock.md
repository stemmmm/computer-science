# 데드락

<details>  
<summary><h3>데드락에 대해 설명하세요.</h3></summary>

#### 개념
- 여러 프로세스나 스레드가 서로의 자원을 필요로하며 무한 대기 상태에 빠지는 문제
- 데드락이 발생하려면 아래 4가지 조건이 모두 충족돼야함

#### 발생 조건
1. 상호 배제(Mutual Exclusion): 자원은 한 번에 하나의 프로세스만 사용할 수 있음
2. 점유와 대기(Hold and Wait): 적어도 하나의 자원을 점유하고 있으면서, 동시에 다른 자원을 기다리는 상태
3. 비선점(No Preemption): 이미 점유한 자원을 강제로 빼앗을 수 없어, 자원을 점유한 프로세스가 스스로 자원을 해제할 때까지 기다려야함
4. 순환 대기(Circular Wait): 두 개 이상의 프로세스가 순환 구조로 자원을 서로 기다리는 상태
</details>

<details>  
<summary><h3>데드락의 해결법에 대해 설명하세요.</h3></summary>

#### 1. 예방
- 데드락의 발생 조건 중 하나 이상을 제거하여, 원천적으로 데드락을 방지하는 방법
- 상호 배제 제거: 모든 자원을 공유 가능하게 만드는 것이므로 현실적으로 어려움
- 점유와 대기 제거: 프로세스가 자원을 모두 확보한 경우에만 실행 가능하게 하는 것이므로 자원의 효율적 사용을 방해함 
- 비선점 제거: 프린터와 같이 비선점으로 동작해야만 하는 프로세스들이 있으므로 범용성이 떨어짐
- 순환 대기 제거: 자원에 고유한 순서를 부여하여 프로세스가 자원을 순서대로 요청하도록 하면 되지만, 모든 자원에 순서를 붙이는 것은 현실적으로 여러움
- 따라서 데드락을 예방하는 방식은 실제로 사용되기 어려움

#### 2. 회피
- 데드락이 발생할 가능성을 미리 계산하여, 데드락이 발생할 위험이 없는 안전한 경우에만 자원을 할당하는 방법
- 은행원 알고리즘(Banker's Algorithm)이 대표적인 방법
- 자원 상태를 지속적으로 추적하고 계산해야하므로 복잡하며, 시스템 성능에 부정적인 영향을 미칠 수 있음

#### 3. 탐지 및 복구
- 시스템이 주기적으로 데드락 상태를 검사하고, 데드락이 발생했다면 해결하는 방법
- 자원 할당 그래프를 사용하여 프로세스 간 자원 대기 상태를 분석하고, 그래프에 순환이 존재하면 데드락이 발생했다고 판단함
- 복구 방법
  - 선점: 데드락에 걸린 프로세스의 자원을 강제로 회수하여 다른 프로세스에 할당하는 방법
  - 프로세스 강제 종료: 데드락과 연관된 프로세스 중 하나 또는 여러 개를 강제 종료하여 자원을 회수하는 방법
  - 자원을 강제로 회수하거나 프로세스를 강제로 종료하면 데이터 손실 등의 문제가 발생할 수 있음 

#### 4. 무시
- 데드락을 자주 발생하지 않는다고 가정하고, 데드락을 해결하는 대신 무시하는 방법
- 데드락이 발생하면 시스템을 재시작하거나, 데드락에 걸린 프로세스를 강제로 종료하는 방식으로 문제를 해결함
- Windows나 Linux 같은 운영체제는 일반적으로 데드락을 무시하고, 문제가 발생하면 시스템을 재시작하거나 해당 프로세스를 강제 종료함
- 단, 데드락이 자주 발생하는 경우 이 방식은 심각한 문제를 초래할 수 있음
</details>

<details>  
<summary><h3>라이브락에 대해 설명하세요.</h3></summary>

- 여러 프로세스가 서로 양보하면서 무한히 상태를 변경하지만, 실제로는 아무 작업도 완료되지 않는 상태
- 예를 들어, 두 사람이 복도에서 서로를 피해가려다 오히려 길을 계속 막는 상황과 비슷한 상태
- 즉, 데드락은 자원을 서로가 가진 자원을 기다리며 멈춰있는 상태이고, 라이브락은 자원을 서로 양보하려고 계속 상태를 바꾸지만 실제 작업이 진행되지 않는 상태임
</details>